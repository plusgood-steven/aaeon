{"remainingRequest":"D:\\Code\\aaeon\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Code\\aaeon\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css","dependencies":[{"path":"D:\\Code\\aaeon\\src\\views\\Login.vue","mtime":1615608485893},{"path":"D:\\Code\\aaeon\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\aaeon\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Code\\aaeon\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Code\\aaeon\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\aaeon\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY2Mgew0KICBtYXJnaW46IGF1dG87DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgd2lkdGg6IDUwJTsNCiAgZm9udC13ZWlnaHQ6IDU1MDsNCn0NCg0KLmNlbnRlciB7DQogIHBhZGRpbmc6IDUwcHggMHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIG1hcmdpbi1ibG9jay1zdGFydDogMHB4Ow0KfQ0K"},{"version":3,"sources":["D:\\Code\\aaeon\\src\\views\\Login.vue"],"names":[],"mappings":";AAqFA,CAAC,CAAC,EAAE;EACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAClB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACzB","file":"D:/Code/aaeon/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <h1 class=\"center\">登入</h1>\r\n  <div class=\"cc\">\r\n    <el-form ref=\"formVal\" :model=\"form\" :label-position=\"`top`\" v-on:keyup.enter=\"handleSubmit()\">\r\n      <el-form-item label=\"Email :\" prop=\"email\">\r\n        <el-input v-model=\"form.email\" placeholder=\"請輸入帳號\">\r\n          <template #prefix>\r\n            <i class=\"el-icon-user\"></i>\r\n          </template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"PassWord :\">\r\n        <el-input v-model=\"form.passWord\" show-password placeholder=\"請輸入密碼\">\r\n          <template #prefix>\r\n            <i class=\"el-icon-lock\"></i>\r\n          </template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleSubmit()\" style=\"position:relative;left:85%;top:30px\">Login</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { apiUserLogin } from \"@/API\";\r\ninterface User {\r\n  userName: string;\r\n  passWord: string;\r\n}\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  components: {\r\n    // UserOutlined,\r\n    // LockOutlined,\r\n  },\r\n  setup() {\r\n    const store = useStore();\r\n    const state = store.state;\r\n    const isLogin = computed(() => state.isLogin);\r\n    const formVal = ref(null);\r\n    return {\r\n      state,\r\n      isLogin,\r\n      store,\r\n      formVal,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      form: { passWord: \"\", email: \"\" },\r\n    };\r\n  },\r\n  methods: {\r\n    handleSubmit() {\r\n      if (!(this.form.passWord === \"\" || this.form.email === \"\"))\r\n        apiUserLogin({\r\n          password: this.form.passWord,\r\n          email: this.form.email,\r\n        })\r\n          .then((data) => {\r\n            console.log(data);\r\n            this.store.commit(\"changeisLogin\", true);\r\n            this.$router.push(\"/catalog\");\r\n          })\r\n          .catch(() => {\r\n            ElMessage.error(\"帳號密碼有誤 !\");\r\n            this.form.email = \"\";\r\n            this.form.passWord = \"\";\r\n          });\r\n      else\r\n        ElMessage.warning({\r\n          message: \"帳號或密碼尚未輸入\",\r\n          type: \"warning\",\r\n        });\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.cc {\r\n  margin: auto;\r\n  position: relative;\r\n  width: 50%;\r\n  font-weight: 550;\r\n}\r\n\r\n.center {\r\n  padding: 50px 0px;\r\n  text-align: center;\r\n  margin-block-start: 0px;\r\n}\r\n</style>\r\n"]}]}